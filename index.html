<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CafecitoJS</title>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="css/style.css">
    <!-- Load an icon library to show a hamburger menu (bars) on small screens -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="http://code.jquery.com/jquery-3.1.1.js"></script>
    <script src="/js/funciones.js"></script>
</head>

<body>
    <header>
       <div class="header-logo">
            <img src="img/logo.png" alt="CafecitoJS" width="150" height="150">
       </div> 
 
       <nav class="header-menubar"> 
        <ul>
            <input type="checkbox" id="menu-check">
            <label id="menu" for="menu-check">
              <span id="menu-abrir">&#9776;</span>
              <span id="menu-cerrar">&#x2715</span>
            </label>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="menu.html" >Men√∫</a></li>
            <li><a href="news.html" >Novedades</a></li>
            <li><a href="about.html">Somos</a></li>
        </ul>
       </nav>
    </header>


    <main>
        <div class="contenido-ppal">
        <section class="secciones">
            <h3>Java Soul</h3>
            <article>Alma de cafe <br>Blend de aromas<br><br>Arabigo<br><br>Moka</article>
            <p>

            ..
            </p>
        </section>
     
      </div> 
      <aside class="contenido-sec">
        <article id="art">Notas...<span id="art"></span></article>
        <script>
              var url = 'https://newsapi.org/v2/everything?' +
              'q=Coffe&' +
              'sortBy=popularity&' +
              'apiKey=409a0f042e844e39a5742d62d19718d4';
              // url = "https://newsapi.in/newsapi/news.php?key=nNYpX9SAfabYFMx1j6SvrZ3vmC5DIh&category='coffee'"
              
              var i = 0;
              var req = new Request(url);
              const element = document.getElementById("art");

              fetch(req)
               .then((a)=>{return a.json()})
               .then((response)=>
                  setInterval(function() {

                    if (i < response.articles.length) {
                      i++;
                    } else { 
                      i=0;
                    }
                    
                    element.innerHTML = response.articles[i].content;
                  
                  }
                  , 2000)

               );
              // doRefresh(i,response.articles.length);

              // fetch(url)
              // .then((response)=>{return response.json()})
              // .then((datos)=>{doRefresh(0);
              //                 console.log(datos)
              //               })
              //     // fetch(url)
                  //   .then(a => a.json())
                  //   .then(response => {
                  //   // timer = function() {

                    
                //  for(var i=0;i<response.articles.length;i++){
                    // doRefresh(i);

                //  sleep(5000);
                //     document.getElementById("art").innerHTML += response.articles.length +"|"+ 0 + " " +
                //     response.articles[0].content;
                        // setTimeout(timer,2000);
                        // console.log(response.articles[i].content);
                        //  sleep(2000);
                      // };

                  //   }
                  // timer();


                  // <script type="text/javascript">
                //   function doRefresh(i,lng) {
                //       i += 1;
                //       if (i == lng){ i = 0;}
                //       $("#show").load("#show");
                //       document.getElementById("art").innerHTML = response.articles[idx].content;
                //     }
                // $(function () {
                //     setInterval(doRefresh(idx), 5000);
                // });



                  // function notas() {
                  //   i=i+1;
                  //   this.innerHTML = "|"+ i + " " +
                  //       response.articles[i].content;
                  // }
                  // // );
                  // function sleep(milliseconds) {
                  //   const date = Date.now();
                  //   let currentDate = null;
                  //   do {
                  //     currentDate = Date.now();
                  //   } while (currentDate - date < milliseconds);
                  // }
                  // // function sleep(ms) {
                  // //               return new Promise(resolve => setTimeout(resolve, ms));
                  //           }  
                    
                    // response)=>{
                    // return response.json()
                    //         }).then((datos)=>{
                    //                 console.log(datos)
                    //         })

              // datos.articles.forEach(article => {

                // let li = document.createElement('li');
                // let a = document.createElement('a');
                // a.textContent = article.content;
                // a.textContent = article.description;
              //   document.getElementById('art').innerHTML = article.content;
              // });      
              
              
              // for(var i = 0;i < art.length; i++)
                      // {
                          // div.innerHTML = div.innerHTML + "<p class='inner' id="+ i + ">" + art[i].articles +"</p>" + "<br>";
                          // console.log(art);
                      // }
                      // document.getElementById("art").innerHTML = art;
                      // console.log(response.json());
                      // console.log(art.articles);
                    // })
        </script>


       
      </aside>
    </main>


    <footer>

    </footer>


